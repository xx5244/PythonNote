# Requests套件
---

**第三方HTTP的套件，用`pip`即可安裝**
[官網](https://docs.python-requests.org/en/master/)

+ ## 模組請求常見參數
    |參數名|意思|
    |:-|:-
    |method(必填)|請求方法
    |url(必填)|請求網址
    |params|查詢參數(字典型式)
    |headers|標頭檔(請求頭，字典型式)
    |cookies|用戶身分訊息(cookiejar對象，字典型式)
    |proxies|ip代理
    |data|post請求時傳送資料用(字典、列表、元組型式)
    |json|提交參數(字典型式)
    |verify|是否驗證證書(ca證書)
    |timeout|設定響應時間，超過時間會報錯
    |allow_redirects|是否允許重定向(布林型式)
    |files|文件(字典型式)
    |auth|權限認證(字典型式)
    |stream|是否為數據流傳輸

+ ## 範例
    ```python
    import requests


    # params
    # url = 'https://www.google.com.tw/search'
    # headers = {
    #     'referer': 'https://www.google.com',
    #     'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36' 
    #     }
    # params = {
    #     'q': 'python requests'
    # }
    # response = requests.get(url=url, headers=headers, params=params)
    # print(response) # 查看狀態碼
    # print(response.url) # 查看網址

    # params['q'] = '中文測試'
    # response = requests.get(url=url, headers=headers, params=params)
    # print(response.url) # 查看網址

    # data
    url = 'https://www.thsrc.com.tw/TimeTable/Search'
    headers = {
        'origin': 'https://www.thsrc.com.tw',
        'referer': 'https://www.thsrc.com.tw/ArticleContent/a3b630bb-1066-4352-a1ef-58c7b4e8ef7c',
        'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36'
    }
    data = {
        'SearchType': 'S',
        'Lang': 'TW',
        'StartStation': 'NanGang',
        'EndStation': 'ZuoYing',
        'OutWardSearchDate': '2021/08/02',
        'OutWardSearchTime': '17:00',
        'ReturnSearchDate': '2021/08/02',
        'ReturnSearchTime': '17:00'
    }

    response = requests.post(url=url, headers=headers, data=data)
    print(response)

    '''
    get 為請求方法
    url 為請求網址
    headers 為標頭擋
    params 為查詢參數(會出現在url裡)
    由於url不支援中文，因此會把中文轉成url編碼格式
    data post發送請求時夾帶的參數，在chrome Headers底下可以看到Form Data來查看傳遞的參數
    '''
    ```